(function(){"use strict";angular.module("testApp",["ngCookies","ngResource","ngSanitize","ngRoute","ui.router"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/main"),a.state("main",{url:"/main",templateUrl:"views/main.html",controller:"MainCtrl"}),a.state("main.search",{url:"/search?q",templateUrl:"views/result.html",controller:"SearchCtrl"})}])}).call(this),function(){"use strict";angular.module("testApp").controller("MainCtrl",["$scope","$http","$state","$stateParams","searchResult",function(a,b,c,d,e){a.searchable_results=[],a.fetchData=function(b){return e.fetchData(b).success(function(b){a.searchable_results=b}).error(function(a){return console.log(a)})},a.submit=function(b){return e.setData(a.searchable_results),a.searchable_results=[],c.transitionTo("main.search",{q:b})}}])}.call(this),function(){"use strict";angular.module("testApp").service("searchResult",["$http",function(a){var b;return b="http://jsonplaceholder.typicode.com/photos",this.data=[],this.fetchData=function(c){return a.get(b,{params:{q:c}})},this.setData=function(a){return this.data=a},this}])}.call(this),function(){"use strict";angular.module("testApp").controller("SearchCtrl",["$scope","$stateParams","searchResult",function(a,b,c){return c.data.length>0?a.results=c.data:c.fetchData(b.q).success(function(b){a.results=b})}])}.call(this);